<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        IOT - Sigfox Semestral Project - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/github-gist.min.css" integrity="sha256-tAflq+ymku3Khs+I/WcAneIlafYgDiOQ9stIHH985Wo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/emojify.js/1.1.0/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,600,600italic,300italic,300|Source+Serif+Pro|Source+Code+Pro:400,300,500&subset=latin,latin-ext);.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\A0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,sans-serif;padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram{text-align:center;background-color:inherit;border-radius:0;white-space:inherit}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:758px;margin-top:25px;margin-bottom:-25px;color:#777}.ui-toc{position:fixed;bottom:20px;z-index:10000}.ui-toc-label{opacity:.3;background-color:#ccc;border:none;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:23px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,Hiragino Kaku Gothic Pro,\\30D2\30E9\30AE\30CE\89D2\30B4 Pro W3,Osaka,Meiryo,\\30E1\30A4\30EA\30AA,MS Gothic,"\FF2D\FF33   \30B4\30B7\30C3\30AF",sans-serif}.ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,"\FF2D\FF33   \FF30\30B4\30B7\30C3\30AF",sans-serif}.markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang TC,Microsoft JhengHei,\\5FAE\8EDF\6B63\9ED1,sans-serif}.ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,\\5FAE\8EDF\6B63\9ED1UI,sans-serif}.markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Helvetica,Arial,PingFang SC,Microsoft YaHei,\\5FAE\8F6F\96C5\9ED1,sans-serif}.ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,\\5FAE\8F6F\96C5\9ED1UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:contain}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}small span{line-height:22px}small .dropdown{display:inline-block}small .dropdown a:focus,small .dropdown a:hover{text-decoration:none}.unselectable{-moz-user-select:none;-webkit-user-select:none;-o-user-select:none;user-select:none}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;font-family:Source Sans Pro,Helvetica,Arial,sans-serif;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid"><h1 id="iot-sigfox-semestral-project"><a class="anchor hidden-xs" href="#iot-sigfox-semestral-project" title="iot-sigfox-semestral-project"><span class="octicon octicon-link"></span></a>IOT - Sigfox Semestral Project</h1><p>Following pages contains technical documentation to the semestral project that was dedicated to the internet of things (IOT). More specifically to the implementation of “smart” electrometer that is sending data to the SIGFOX which is global provider of the IOT. Data that are stored on the SIGFOX servers are presented by web application.</p><h1 id="what-is-sigfox"><a class="anchor hidden-xs" href="#what-is-sigfox" title="what-is-sigfox"><span class="octicon octicon-link"></span></a>What is SIGFOX?</h1><p>The primary technology of this project should be introduced - Sigfox is a IoT wireless network system utilizing ETSI’s (European Telecommunications Standards Institute) specification for Low Throughput Networks (LTN) and Ultra Narrow-Band (UNB) modulation. The signal that is send is specifically the uplink between the IoT device and the central network station. This uplink employs BPSK modulation with ultra-narrowband technology and pseudo-random frequency hopping. Messages are very short. User has a maximum of 12 bytes of info available.</p><p>The SIGFOX radio link uses unlicensed ISM radio bands. The exact frequencies can vary according to national regulations, but in Europe the 868MHz band is widely used and in the US it is 915MHz.</p><p>The density of the cells in the Sigfox network is based on an average range of about 30-50km in rural areas and in urban areas where there are usually more obstructions and noise is greater the range may be reduced to between 3 and 10km. Distances can be much higher for outdoor nodes where Sigfox states line of sight messages could travel over 1000km.</p><p>The overall Sigfox network topology has been designed to provide a scalable, high-capacity network, with very low energy consumption, while maintaining a simple and easy to rollout star-based cell infrastructure.</p><p>Technology is aimed at the low cost machine to machine application areas where wide area coverage is required. There are a number of applications that need this form of low cost wireless communications technology. Areas where the SIGFOX network may be used include:</p><ul>
<li>Home and consumer goods</li>
<li>Energy related communications - in particular smart metering</li>
<li>Healthcare - in particular the mHealth applications that are starting to be developed</li>
<li>Transportation - this can include the automotive management</li>
<li>Remote monitoring and control</li>
<li>Retail including point of sale, shelf updating, etc</li>
<li>Security</li>
</ul><p><img src="https://i.imgur.com/rPHbiaG.png" alt=""><br>
<em>Image 1: Basic Sigfox functionality</em></p><p>The Sigfox network performance is characterised by the following:</p><ul>
<li>Up to 140 messages per object per day</li>
<li>Payload size for each message is 12 bytes</li>
<li>Wireless throughput up to 100 bits per second</li>
</ul><h1 id="technical-specification"><a class="anchor hidden-xs" href="#technical-specification" title="technical-specification"><span class="octicon octicon-link"></span></a>Technical specification</h1><p>Let’s start from the lowest layer - hardware. For the project was used modified Arduino UNO with Radiocrafts RC1682 transreceiver. There are 6 digital input/outputs, analog input/output, UART and digital input for processor interrupt. There is antenna lambda/4 length (recommended by Radiocrafts) too. The data are captured from the IEC 62056-21 standart optical interface. Reading probe is connected to the Arduino by serial port. Radiocraft chip is connected to the digital ports of the Arduino.</p><h1 id="programmed-libraries"><a class="anchor hidden-xs" href="#programmed-libraries" title="programmed-libraries"><span class="octicon octicon-link"></span></a>Programmed libraries</h1><p>There are two libraries that were written for the purposes of this project. One is dealing with Radiocrafts module (Sigfox_lib) and the second one is dealing with reading from electrometer (Electrometer_lib). Both of them are written in C++ that is slightly modified for Arduino. The following lines will provide a more detailed description of these libraries.</p><h1 id="sigfox-lib"><a class="anchor hidden-xs" href="#sigfox-lib" title="sigfox-lib"><span class="octicon octicon-link"></span></a>Sigfox_lib</h1><p>This library contains some basic methods like getTemperature() (of the Radiocrafts chip). The most important function is probably sendString(String s) that sends string to the IoT by Radiocrafts chip. There is alternative for sending data function too It is called sendBytes() that will sends bytes.</p><p>So first of all object must be created. That can be done by calling constructor:</p><pre><code class="cpp hljs"><span class="hljs-function">Sigfox <span class="hljs-title">sgf</span><span class="hljs-params">(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19200</span>)</span></span>;
<span class="hljs-comment">// 7 = rx, 8 = tx, 19200 = bauds</span>
</code></pre><p>According to this code first argument is rx the second one is tx and the third one are bauds.</p><p>Let’s take a closer look to the functions that are contained in the Sigfox library:</p><h2 id="int-gettemperature"><a class="anchor hidden-xs" href="#int-gettemperature" title="int-gettemperature"><span class="octicon octicon-link"></span></a>int getTemperature()</h2><p>This simple function returns temperature of the Radiocrafts chip. Function will send one byte with value 0x00 to the chip which means that mode is changed to the configuration mode. In the next step one byte with value 0x55 will be sent to the chip. According to the official documentation 0x55 is one of the configuration commands. This command returns one byte indicating the temperature. Value that is returned by function getTempertature is in celsius.</p><h3 id="example-of-usage"><a class="anchor hidden-xs" href="#example-of-usage" title="example-of-usage"><span class="octicon octicon-link"></span></a>Example of usage</h3><pre><code class="cpp hljs"><span class="hljs-function">Sigfox <span class="hljs-title">sgf</span><span class="hljs-params">(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19200</span>)</span></span>;
Serial.print(String(sgf.getTemperature()));
<span class="hljs-comment">// 7 = rx, 8 = tx, 19200 = bauds</span>
</code></pre><h2 id="int-getsignalrssi"><a class="anchor hidden-xs" href="#int-getsignalrssi" title="int-getsignalrssi"><span class="octicon octicon-link"></span></a>int getSignalRSSI()</h2><p>Just like the previous function this one is using configuration command so chip is switched into the configuration mode and then is one byte with 0x53 value sent. If a valid packet has been received when in configuration mode, it will return the RSSI of the last received packet. According to the chip documentation there is a mathematical formula that must be used for received value.</p><div class="alert alert-info">
<p>P = - RSSI / 2 [dBm]</p>
</div><p>This formula is included in the function so there is no need for next operations with received integer.</p><h2 id="int-getsignalquality"><a class="anchor hidden-xs" href="#int-getsignalquality" title="int-getsignalquality"><span class="octicon octicon-link"></span></a>int getSignalQuality()</h2><p>Another function that is using configuration command. This time will send one byte with value 0x51. There is no need for next operation with returned value. Value returned by chip is based on bit errors in preamble and synch word.</p><h2 id="float-getvoltage"><a class="anchor hidden-xs" href="#float-getvoltage" title="float-getvoltage"><span class="octicon octicon-link"></span></a>float getVoltage()</h2><p>Function based on configuration command again. Byte with value 0x56 is sent. According to the documentation value that is returned from chip is multiplied by 0.030. This function is usefull when you are experimenting with alternative power sources or troubleshooting.</p><h2 id="char-inttostringint-inputnumber"><a class="anchor hidden-xs" href="#char-inttostringint-inputnumber" title="char-inttostringint-inputnumber"><span class="octicon octicon-link"></span></a>char intToString(int inputNumber)</h2><p>Is very simple function that has nothing to do with Radiocrafts chip. It just takes the integer input parameter and converts it to the char.</p><h2 id="void-parse-int-to-12bytesunsigned-char-bytes-unsigned-long-a-unsigned-long-b-unsigned-long-c"><a class="anchor hidden-xs" href="#void-parse-int-to-12bytesunsigned-char-bytes-unsigned-long-a-unsigned-long-b-unsigned-long-c" title="void-parse-int-to-12bytesunsigned-char-bytes-unsigned-long-a-unsigned-long-b-unsigned-long-c"><span class="octicon octicon-link"></span></a>void parse_int_to_12bytes(unsigned char *bytes, unsigned long a, unsigned long b, unsigned long c)</h2><p>This function is very important. As already mentioned above - to the Sigfox network can be transmitted only 12 bytes of data. This function pack those data in to the byte array. Thanks to this solution there is no need for separators that would be unnecessarily take up space. On the other hand the code that unpacks data must be written for web application.</p><p>The long datatype is used because long has 32 bits in Arduino implementation. The input long parameters are simply spread out in to the char array of bytes by bit shuffeling. There is no return value char array that is simultaneously input parameter should be used.</p><h3 id="example-of-usage1"><a class="anchor hidden-xs" href="#example-of-usage1" title="example-of-usage1"><span class="octicon octicon-link"></span></a>Example of usage</h3><pre><code class="cpp hljs"><span class="hljs-function">Sigfox <span class="hljs-title">sgf</span><span class="hljs-params">(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">19200</span>)</span></span>;
<span class="hljs-keyword">long</span> test = <span class="hljs-number">1234576</span>;
<span class="hljs-keyword">long</span> test2 = <span class="hljs-number">7894561</span>;
<span class="hljs-keyword">long</span> test3 = <span class="hljs-number">4567891</span>;
<span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">char</span> bytes[<span class="hljs-number">12</span>] = {<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>};
sgf.parse_int_to_12bytes(bytes, test,test2,test3);

Serial.print(bytes, HEX);
<span class="hljs-comment">//Bytes: 90d612002176780053b34500</span>
</code></pre><h2 id="void-sendstringstring-string"><a class="anchor hidden-xs" href="#void-sendstringstring-string" title="void-sendstringstring-string"><span class="octicon octicon-link"></span></a>void sendString(String string)</h2><p>One of the most important function of the Sigfox library. Function will send one byte with value “X” to the chip which means that mode of the chip is not in configuration mode (exit of configuraion mode). Then length of the string from parameter is sent to the Sigfox network (let Sigfox know how much data to expect) after that bytes of the string are sent into the Sigfox network. There is no information if informations were successfully sent to the IoT.</p><h2 id="void-sendbytesunsigned-char-bytes"><a class="anchor hidden-xs" href="#void-sendbytesunsigned-char-bytes" title="void-sendbytesunsigned-char-bytes"><span class="octicon octicon-link"></span></a>void sendBytes(unsigned char *bytes)</h2><p>Alternative to previous function is sendBytes function that will instead of string send char array of bytes. It works great in combination with parse_int_to_12bytes function.</p><p>So these functions from Sigfox Library cover the possibilities of Radiocrafts chip and there are some other functions in this library that will make usage of this library more pleasant. Let’s move to the next library that was written for the purposes of this project - Electrometer library. But before that let’s take a look at the technical background.</p><h1 id="reading-data-from-electrometer"><a class="anchor hidden-xs" href="#reading-data-from-electrometer" title="reading-data-from-electrometer"><span class="octicon octicon-link"></span></a>Reading data from electrometer</h1><p>As already mentioned above for the reading data from electrometer IEC 62056-21 optical interface is used. The technical documentation of the standard was very brief, so it was not easy to write this library. Code was tested on the three different electrometers and the final one that was released should be working fine on most of the electrometers.</p><p>First of all there are four modes of communication. Protocol mode A, B, C and D. There are different options and limitations in those protocols.</p><h2 id="protocol-mode-a"><a class="anchor hidden-xs" href="#protocol-mode-a" title="protocol-mode-a"><span class="octicon octicon-link"></span></a>Protocol mode A</h2><p>Protocol mode A supports bidirectional data exchange at 300 baud without baud rate switching.This protocol mode permits data readout and programming with optional password protection.</p><p>The tariff device transmits the data message immediately following the identification message. The data transmission is complete after the data message has been transmitted by the tariffdevice. An acknowledge signal is not provided.</p><p>For a better idea of functionality please check following image:</p><p><img src="https://i.imgur.com/bVfQ0Fi.png" alt=""><br>
HHU stands for hand-held unit. As you can see data are returned immediately after first message that was send into the electrometer.</p><h2 id="protocol-mode-b"><a class="anchor hidden-xs" href="#protocol-mode-b" title="protocol-mode-b"><span class="octicon octicon-link"></span></a>Protocol mode B</h2><p>Protocol mode B supports bidirectional data exchange with baud rate switching. This protocolmode permits data readout and programming with optional password protection.</p><p>During the interval the tariff device and switch over to the baud rateprescribed in the identification message. Following this the tariff device transmits the datamessage at the new baud rate.</p><p>After data readout programming mode could be immediately entered. Programming mode usually require password and is not part of this project.</p><h2 id="protocol-mode-c"><a class="anchor hidden-xs" href="#protocol-mode-c" title="protocol-mode-c"><span class="octicon octicon-link"></span></a>Protocol mode C</h2><p>Protocol mode C supports bidirectional data exchange with baud rate switching and permitsdata readout, programming with enhanced security and manufacturer-specific modes.</p><p>After the identification message has been transmitted, the tariff device waits for theacknowledge/option select message. This may be a request for data readout, aswitch to programming mode, or a switch to manufacturer-specific operation.</p><h2 id="protocol-mode-d"><a class="anchor hidden-xs" href="#protocol-mode-d" title="protocol-mode-d"><span class="octicon octicon-link"></span></a>Protocol mode D</h2><p>Protocol mode D supports unidirectional data exchange at a fixed baud rate of 2400 baud and permits data readout only. It requires hardware button that must be pushed on the electrometer for data readout.</p><h2 id="protocol-mode-e"><a class="anchor hidden-xs" href="#protocol-mode-e" title="protocol-mode-e"><span class="octicon octicon-link"></span></a>Protocol mode E</h2><p>Finally protocol mode E which is used for other protocols. For example High-Level Data Link Control (HDLC) could be used in this mode. For more information please check official standart documentation.</p><h2 id="obis-codes"><a class="anchor hidden-xs" href="#obis-codes" title="obis-codes"><span class="octicon octicon-link"></span></a>OBIS codes</h2><p>OBIS stands for Object Identification System. OBIS provides standard identifiers for all data within the metering equipment, both measurement values and abstract values. OBIS names are used for the identification of COSEM (COmpanion Specification for Energy Metering) objects and also for identification of the data displayed on the meter and transmitted through the communication line to the data collection system.</p><p>On the pictures bellow you can see data that was obtained from Protocol mode B electrometer:<br>
<img src="https://i.imgur.com/q5Sn2iz.png" alt=""></p><p>For example 1.8.0 stands for positive active energy (A+) total value is in kilowatt hour. There are websites where you can find meaning of all OBIS codes.</p><h2 id="messages"><a class="anchor hidden-xs" href="#messages" title="messages"><span class="octicon octicon-link"></span></a>Messages</h2><p>There are some messages that are send to the electrometer via optical interface.</p><h3 id="request-message"><a class="anchor hidden-xs" href="#request-message" title="request-message"><span class="octicon octicon-link"></span></a>Request message</h3><p>Opening message to the tariff device:</p><p><img src="https://i.imgur.com/1FhcBIt.png" alt=""></p><p>Device address is a serial number of device. This register has address “0-0:C.1.0” - Device ID 1, manufacturing number in OBIS addressing. Device address is optional parameter it should be used if several devices are connected to one line (e.g. RS485 bus).</p><p>The picture below shows the front panel of EMH LZQJ device. There is serial number, i.e. IEC address (563911). If device contains a display, this value may be displayed as you can see on the picture.</p><p><img src="https://i.imgur.com/8vD7Ovr.png" alt=""></p><p>The electrometer device should send answer immediately. Answer could be something like:  /AMP05196A-61B {cr}{lf}</p><p>This message is called identification message and has following scheme:</p><p><img src="https://i.imgur.com/7drCuJN.png" alt=""></p><p>The X letters stands for manufacturer’s identification. Letter Z stands for baud rate identification. Backslash stands for sequence delimite which should be followed by one character field - this is optional. W letter stands for enhanced baud rate and mode identification character (optional field). Identification is manufacturer-specific, 16 printable characters maximum except for “/” and"!". “”.</p><p>So basically after opening message you should receive identification string that is specified by manufacturer in most cases it contains model of electrometer. In protocol mode A you receive full output that was specified by manufacturer.</p><h2 id="web-application"><a class="anchor hidden-xs" href="#web-application" title="web-application"><span class="octicon octicon-link"></span></a>Web application</h2><h3 id="used-technology"><a class="anchor hidden-xs" href="#used-technology" title="used-technology"><span class="octicon octicon-link"></span></a>Used technology</h3><p>The main technology that was used for creating web application for this project was Django which is a high-level Python Web framework that encourages rapid development and clean, pragmatic design. Django is great framework for development but there is one disadvantage - there are few server hosting services that provides hosting for Django based web applications. Probably the best solution for this is get some cloud computing service for this kind of application.</p><p>This web application is using SQLite3 database it is integrated directly into Django so it provides better access to the data. But there should not be a problem to migrate data to different database solution and use different database instead the original one.</p><p>For the styling of the web pages was used Materialize framework that provides responsible, modern design based on Material design that was created by Google. Materialize framework provides big amount of various features.</p><p>For graphical representation of that was used Chart.js framework that is build on javascript. It is simple to use code with various options.</p><p>For easily adding links to the menu was used Django module that is called Simple Menu. It must be downloaded for correct functionality of this web application. This is how you can get it:</p><div class="alert alert-info">
<p>pip simple-menu</p>
</div><h3 id="database-populating"><a class="anchor hidden-xs" href="#database-populating" title="database-populating"><span class="octicon octicon-link"></span></a>Database populating</h3><p>So we need to obtain data from the device. This web app implements two ways how you can populate your database with data.</p><h4 id="sigfox-callbacks"><a class="anchor hidden-xs" href="#sigfox-callbacks" title="sigfox-callbacks"><span class="octicon octicon-link"></span></a>Sigfox callbacks</h4><p>Sigfox provides callbacks. That means you can set up how you get informed about message that was received by Sigfox server. For example you can get email when your device sends data to IoT. This web application is designed to receive POST requests.</p><p>When you add new device into the system there is generated following link:</p><div class="alert alert-info">
<p><a href="http://webappurl.com/manage/sigfoxDeviceID/postdatafromcallback" target="_blank">http://webappurl.com/manage/sigfoxDeviceID/postdatafromcallback</a></p>
</div><p>This link must be used in Sigfox backend when you set up structure of message that will be sent to the web application from Sigfox. This web application is designed for the following data format:</p><div class="alert alert-info">
<p>{<br>
“device” : “{device}”,<br>
“time” : {time},<br>
“data” : “{data}”,<br>
“snr”  : “{snr}”,<br>
“linkQuality”: “{avgSnr}”<br>
}</p>
</div><p>Data should be packed into 12 byte array how it is done by Sigfox function that was mentioned before.</p><p><img src="https://i.imgur.com/RowF90W.png" alt=""></p><p>Disadvantage of this solution is that your website must be publicly visible in the intertet so Sigfox servers can send a request to you. The second disadvantage is that when your web app comes down you are not able to receive your data. But it is a solution with minimal overhead</p><h3 id="server-side-scheduled-task"><a class="anchor hidden-xs" href="#server-side-scheduled-task" title="server-side-scheduled-task"><span class="octicon octicon-link"></span></a>Server-side scheduled task</h3><p>Django provides creating “Managed scripts”. Those scripts are great for periodical operations for example for populating database. In this case you just execute following command:</p><p>Database of the web app is checked for the last database entry and then Sigfox web api is contacted for sufficient data. Those data are formatted and inserted into database.</p><p>The disadvantage of this solution is that you have to set up scheduled tasks if you want to do it periodically.</p></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav"><li class=""><a href="#iot-sigfox-semestral-project">IOT - Sigfox Semestral Project</a></li><li class=""><a href="#what-is-sigfox">What is SIGFOX?</a></li><li class=""><a href="#technical-specification">Technical specification</a></li><li class=""><a href="#programmed-libraries">Programmed libraries</a></li><li class=""><a href="#sigfox-lib">Sigfox_lib</a><ul class="nav"><li class=""><a href="#int-gettemperature">int getTemperature()</a><ul class="nav"><li class=""><a href="#example-of-usage">Example of usage</a></li></ul></li><li class=""><a href="#int-getsignalrssi">int getSignalRSSI()</a></li><li class=""><a href="#int-getsignalquality">int getSignalQuality()</a></li><li class=""><a href="#float-getvoltage">float getVoltage()</a></li><li class=""><a href="#char-inttostringint-inputnumber">char intToString(int inputNumber)</a></li><li class=""><a href="#void-parse-int-to-12bytesunsigned-char-bytes-unsigned-long-a-unsigned-long-b-unsigned-long-c">void parse_int_to_12bytes(unsigned char *bytes, unsigned long a, unsigned long b, unsigned long c)</a><ul class="nav"><li class=""><a href="#example-of-usage1">Example of usage</a></li></ul></li><li class=""><a href="#void-sendstringstring-string">void sendString(String string)</a></li><li class=""><a href="#void-sendbytesunsigned-char-bytes">void sendBytes(unsigned char *bytes)</a></li></ul></li><li class=""><a href="#reading-data-from-electrometer">Reading data from electrometer</a><ul class="nav"><li class=""><a href="#protocol-mode-a">Protocol mode A</a></li><li class=""><a href="#protocol-mode-b">Protocol mode B</a></li><li class=""><a href="#protocol-mode-c">Protocol mode C</a></li><li class=""><a href="#protocol-mode-d">Protocol mode D</a></li><li class=""><a href="#protocol-mode-e">Protocol mode E</a></li><li class=""><a href="#obis-codes">OBIS codes</a></li><li class=""><a href="#messages">Messages</a><ul class="nav"><li class=""><a href="#request-message">Request message</a></li></ul></li><li class=""><a href="#web-application">Web application</a><ul class="nav"><li class=""><a href="#used-technology">Used technology</a></li><li class=""><a href="#database-populating">Database populating</a></li><li><a href="#server-side-scheduled-task">Server-side scheduled task</a></li></ul></li></ul></li></ul></div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;"  >
        <div class="toc"><ul class="nav"><li class=""><a href="#iot-sigfox-semestral-project">IOT - Sigfox Semestral Project</a></li><li class=""><a href="#what-is-sigfox">What is SIGFOX?</a></li><li class=""><a href="#technical-specification">Technical specification</a></li><li class=""><a href="#programmed-libraries">Programmed libraries</a></li><li class=""><a href="#sigfox-lib">Sigfox_lib</a><ul class="nav"><li class=""><a href="#int-gettemperature">int getTemperature()</a><ul class="nav"><li class=""><a href="#example-of-usage">Example of usage</a></li></ul></li><li class=""><a href="#int-getsignalrssi">int getSignalRSSI()</a></li><li class=""><a href="#int-getsignalquality">int getSignalQuality()</a></li><li class=""><a href="#float-getvoltage">float getVoltage()</a></li><li class=""><a href="#char-inttostringint-inputnumber">char intToString(int inputNumber)</a></li><li class=""><a href="#void-parse-int-to-12bytesunsigned-char-bytes-unsigned-long-a-unsigned-long-b-unsigned-long-c">void parse_int_to_12bytes(unsigned char *bytes, unsigned long a, unsigned long b, unsigned long c)</a><ul class="nav"><li class=""><a href="#example-of-usage1">Example of usage</a></li></ul></li><li class=""><a href="#void-sendstringstring-string">void sendString(String string)</a></li><li class=""><a href="#void-sendbytesunsigned-char-bytes">void sendBytes(unsigned char *bytes)</a></li></ul></li><li class=""><a href="#reading-data-from-electrometer">Reading data from electrometer</a><ul class="nav"><li class=""><a href="#protocol-mode-a">Protocol mode A</a></li><li class=""><a href="#protocol-mode-b">Protocol mode B</a></li><li class=""><a href="#protocol-mode-c">Protocol mode C</a></li><li class=""><a href="#protocol-mode-d">Protocol mode D</a></li><li class=""><a href="#protocol-mode-e">Protocol mode E</a></li><li class=""><a href="#obis-codes">OBIS codes</a></li><li class=""><a href="#messages">Messages</a><ul class="nav"><li class=""><a href="#request-message">Request message</a></li></ul></li><li class=""><a href="#web-application">Web application</a><ul class="nav"><li class=""><a href="#used-technology">Used technology</a></li><li class=""><a href="#database-populating">Database populating</a></li><li><a href="#server-side-scheduled-task">Server-side scheduled task</a></li></ul></li></ul></li></ul></div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
